# 42_17-11-6

--

## Thread 필기 

모든 UI는 main thread 에서만 돌아간다.. 그렇다면 문제가 될만한거나, 사용할수 있는것은 무엇인가...?

main thread 가 아닌, 다른 thread 에서 UI를 변경하게 되면 변경값이 적용되지 않는다..

bps(bit for sceond) -> 4G 에서는 더큰 데이터를 전송할수 있는...?

첫번째로 LTE가 나왔을때 학술적으로 4G 라고 하지는 않음.. 하지마 산업계에서는 4G 라고함...

네트워크는 핸드 쉐이크라고해서 요청이 가면, 요청이 와야함. 그래야지 반응을 할수 있다.

Login 할때 첫경험이 느린경우를 마주하게 되면, 바로 app을 지우게됨. Thread 관리..를 통해서 

UI를 main thread에서만 동작하는 이유는, apple 은 사용자의 인터렉션을 최우선으로 생각한다. 그래서, 사용자의 인터렉션에 대해서는 최우선적으로 처리가 되어야 한다고 생각함

## CPU, Core, Thread, 프로세서, 멀티스레드는

CPU 에서 3.8G 에서 멈춘이유가, 하나의 싱글 코어에를 만들기 위해서 전기선을 얇게 만들어 주어야 하는데, 3.8G를 넘어가게되면, 저항 때문에 끊어지게 됩니다..

그래픽만 처리하는게 GPU...? 이거한번 생각해보자

큰 작업을 한개 할때의 퍼포먼스와, 여러개의 같은 작업을 할때의 퍼포먼스가 코어의 개수에 따라서 다름.

2개의 cpu가(듀얼, 쿼드) 있을때, 한개의 큰작업을 두개가 동시에 진행하게되면 별차이 없는 퍼포먼스를 나타낼수 있고, 

하나의 cpu가 견뎌내는 수준의 작업을 5개 돌려놓았을때는, 듀얼코어와, 쿼드코어에서 쿼드코드가 성능이 훨씬 좋다..

---

## 동기/비동기 방식

동기 : 여러가지의 일들을 하나의 덩어리로 생각해서 하나씩 순차적으로 끝나게 일을함

비동기 : 분리되어서 작업이 실행됨. 여러개의 작업을 한명이 하나씩 


---

비동기 작업을 할때, 교착상태에 빠질수 있다는것을 생각하고 코드를 작성 해야한다.

operation을 사용하게 되면 내부적으로는 GCD를 사용함..? 

멀티 스레드를 만드는 방식인데, 이 방식이 멀티 코어를 지원함(GCD가...)


---

어떤 버튼 누르면 -> Label을 변화하게 만들어 줌 -> 그 사이에 엄청 많은 연산이 있다면, Timer을 사용할수 있다. timer를 사용하면, text의 값을 바꾸고, 그 안의 연산을 적용할수 있다.

```swift
    override func didReceiveMemoryWarning() {
        super.didReceiveMemoryWarning()
        let startTime = CFAbsoluteTimeGetCurrent()
        
        print(startTime)
    }

    // Thred의 예시
    @IBAction func btnAction(_ sender: UIButton) {
        
        longTimeAction()
        
        LB.text = "변해"
        
    }
    
    func longTimeAction() {
        var total = 0
        Timer.scheduledTimer(withTimeInterval: 1, repeats:true) { (t) in
                self.LB.text = String(total)
                total += 1
        }
     t.invalidate() 메소드를 통해서 멈추어 줄수도 있다.   
    }

```

thread는 하나의 queue이고, 이 하나의 아이템들은 item 들임. work item 은 queue에 줄서 있는 사람들이다.. 

병렬큐는, 하나의 스레드 안에서 멀티 스레드 처럼 작동이 되는것,

동기와 비동기랑 햇갈리지 말자, 동기는 큐처럼 순서대로 실행이 되는것이고, 비동기는 두개의 작업이 완전히 분리되어서 작업이 되어지는것임.

main 스레드는 직렬 큐임 -> 

mainqueu, global, customqueue

```swift
dispatchQueue.main... 등등으로 가져올수 있음.
DispatchQueue.global().sync
b
global은 파라미터로 우선순위를 받을수 있다. 

```

---

Xcode에서 thread 를 나누어서 사용하는 이유는, 결국 연산속도는 싱글스레드나, 여러개수의 스레드나 비슷비슷하지만, 사용자의 인터렉션 처리를 위해서, thread 를 가지고 시점을 분리(?) 시켜서 사용자에게 속도가 빨라진것처럼 느껴지게, 속임수를 쓰는 방법이라고 생각하면 좋을것 같다.


```swift

let op = OperationQueue()
op.addOperation()
```


DispatchQueue.global().async  안에서는, UI를 사용할수 없음, 이유는 UI에 대한것은 main 에서 업데이트 해주어야 함.

```swift
global 에서 UI에 대한 속성을 변경 해주면 안됨. UI에 대한 속성은 main 에서 변경 시켜주어야 함. 근데, global 에서 사용해도, main에서 사용해야함.
```











---

기윤님

마크 프라이스

json formatter 사이트로 퀄리 브레이스{} 

셈플로 api call 을 하게되면 json으로 요청을 하게되면

초기에 api 로 -> openweather의 URL 로 요청을 하면 -> 알라모 파이어를 통해서, json 데이터르 받을수 있습니다.


마크 프라이스라는 사람은 let 으로 파일을 모아놓고 사용함...CLLocation 

자기만의 고유한 key 값을 함께 필요한 data에 URL을 요청하게되면, 우너하는 값을 얻을수 있다.

알라모파이어로 요청을 할때, URL 값으로 보내고, 결과값을 받아서 사용하는것임.. 아.. 그러면 알라모파이어를 안쓸수가 없겠다. 


초기에 설정 api -> openweather URL -> 알라모파이어 


유데미 -> 마크프라이스 


레포에 이슈가 생겼을때, github에서 제공해줌.. 이슈 트레킹. 

github으로 인증하면, 인증하는 방법은 oAuto

데이터는 실시간으로 네트워크 통신을 통해서 가져오게됨..

callbackurl -> 다시 내 앱으로 돌아올수 있게 하는 url

테이블뷰 같지만 사실은 콜렉션 뷰이고, 셀 사이즈를 다시 작성하게 해줍니다. 

---


